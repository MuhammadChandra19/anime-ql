"use strict";(self.webpackChunkanime_ql=self.webpackChunkanime_ql||[]).push([[60],{8060:(t,e,i)=>{i.r(e),i.d(e,{default:()=>H});var o,n=i(168),r=i(885),a=i(917),l=i(6138),d=i(7294),c=i(6974),s=(0,i(1642).Ps)(o||(o=(0,n.Z)(["\n  query AnimeDetail($id: Int) {\n    Media(id: $id, type: ANIME) {\n      id\n      title {\n        romaji\n        english\n        native\n        userPreferred\n      }\n      bannerImage\n      description\n      coverImage {\n        extraLarge\n        color\n      }\n      status\n      season\n      seasonYear\n      studios {\n        edges {\n          node {\n            id\n            name\n            isAnimationStudio\n            siteUrl\n          }\n          isMain\n        }\n      }\n      genres\n      meanScore\n      episodes\n      duration\n      volumes\n      format\n      reviews {\n        edges {\n          node {\n            id\n            summary\n            score\n            user {\n              id\n              avatar {\n                large\n                medium\n              }\n            }\n            rating\n          }\n        }\n      }\n    }\n  }\n"]))),m=i(425),g=i(7518),v=i(7029),u=i(8924),p=i.n(u),w=i(4942),h=i(2387),b=i(7993);function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){(0,w.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const x=function(t){var e=t.isVisible,i=t.onClose,o=t.selectedAnime,n=t.onSave,l=(0,h.bb)()||[],c=(0,d.useState)(l),s=(0,r.Z)(c,2),m=s[0],v=s[1];return e?(0,a.tZ)(b.u,{onClose:i,title:"Collections"},(0,a.tZ)("div",{css:{width:"100%"},"data-testid":"add-to-collection-modal"},Object.keys(m).map((function(t,e){return(0,a.tZ)("div",{css:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},key:"collection-".concat(e)},(0,a.tZ)("div",{css:{flex:"1 1 0%",display:"block",width:"100%",marginRight:"0.25rem","--tw-text-opacity":"1",color:"rgba(55, 65, 81, var(--tw-text-opacity))",fontWeight:"500",fontSize:"1.125rem",lineHeight:"1.75rem"}},(0,a.tZ)("span",{css:{marginRight:"0.5rem",padding:"0.25rem"}},t)),(0,a.tZ)("button",{css:[g.ud,{marginRight:"0.25rem"}],onClick:function(){return e=t,(0,h.Bp)(e,o),void n(e);var e},"data-testid":"collection-".concat(e)},(0,a.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",css:{height:"1.25rem",width:"1.25rem"},viewBox:"0 0 20 20",fill:"currentColor"},(0,a.tZ)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"}))))})),(0,a.tZ)("button",{css:[g.ud,{width:"100%"}],onClick:function(){return function(){var t,e=0;do{t="new collection",t+=" ".concat(e+=1)}while(m[t]);v(f(f({},m),{},(0,w.Z)({},t,[]))),(0,h.BL)(t)}()}},"Add new Collection"))):null};var Z,S,z=i(9711);const H=function(){var t,e,i,o,u,w,b,y,f,H,W,M,k,C,R,j,B,O,A,I,P,L,T,D,V,E,N,_,q=(0,c.UO)().id,F=(0,h.pN)(q||""),U=(0,d.useState)(!1),J=(0,r.Z)(U,2),$=J[0],G=J[1],Y=(0,d.useState)((null==F?void 0:F.collectionIds)||{}),K=(0,r.Z)(Y,2),Q=K[0],X=K[1],tt=(0,l.a)(s,{variables:{id:parseInt(q||"0",10)}}),et=tt.data,it=tt.loading,ot=tt.error;if(it)return(0,a.tZ)("div",null,"loading .....");if(ot)return(0,a.tZ)("div",null,"error");var nt=null!==(null==et||null===(t=et.Media)||void 0===t?void 0:t.bannerImage),rt=nt?'background-image: url("'.concat(null==et||null===(e=et.Media)||void 0===e?void 0:e.bannerImage,'")'):"";return(0,a.tZ)(d.Fragment,null,(0,a.tZ)("div",{css:{"--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))"}},nt?(0,a.tZ)(m.pM,{css:(0,a.iv)(Z||(Z=(0,n.Z)(["",""])),rt)},(0,a.tZ)(m.ph,null)):null,(0,a.tZ)(v.W,{css:(0,a.iv)(S||(S=(0,n.Z)(["padding-top: 0 !important;"])))},(0,a.tZ)(m.Wr,null,(0,a.tZ)("div",{css:{width:"100%",position:"relative",display:"grid",gridTemplateColumns:"150px auto",gap:"1.25rem","@media (min-width: 768px)":{gridTemplateColumns:"repeat(1, minmax(0, 1fr))"}}},(0,a.tZ)("div",{css:["".concat(nt?"margin-top: -100px":"margin-top: 0.5rem"),{maxWidth:"100%","--tw-bg-opacity":"1",backgroundColor:"rgba(156, 163, 175, var(--tw-bg-opacity))",overflow:"hidden"}]},(0,a.tZ)("img",{alt:(null==et||null===(i=et.Media)||void 0===i||null===(o=i.title)||void 0===o?void 0:o.native)||"",src:(null==et||null===(u=et.Media)||void 0===u||null===(w=u.coverImage)||void 0===w?void 0:w.extraLarge)||"",css:{width:"100%",height:"100%",objectFit:"cover"}})),(0,a.tZ)("div",{css:{position:"relative"}},(0,a.tZ)("button",{css:[g.ud,{position:"absolute",bottom:"0px",width:"100%","@media (min-width: 768px)":{position:"relative"}}],onClick:function(){return G(!0)}},"Add to List"))),(0,a.tZ)("div",{css:{width:"100%"}},(0,a.tZ)("div",{css:{marginBottom:"0.5rem"},"data-testid":"anime-title"},null==et||null===(b=et.Media)||void 0===b||null===(y=b.title)||void 0===y?void 0:y.romaji),(0,a.tZ)("div",{css:{width:"100%",padding:"0.5rem",fontSize:"1rem",lineHeight:"1.5rem","--tw-text-opacity":"1",color:"rgba(107, 114, 128, var(--tw-text-opacity))"},dangerouslySetInnerHTML:{__html:p()((null==et||null===(f=et.Media)||void 0===f?void 0:f.description)||"")}})))),(0,a.tZ)(x,{onClose:function(){return G(!1)},isVisible:$,selectedAnime:(null==et?void 0:et.Media)||{},onSave:function(){var t=(0,h.pN)(q||"");X(t.collectionIds||{}),G(!1)}})),(0,a.tZ)(v.W,{css:{gap:"1.25rem",display:"grid",padding:"0.5rem",position:"relative","@media (min-width: 640px)":{gridTemplateColumns:"repeat(1, minmax(0, 1fr))"},"@media (min-width: 768px)":{gridTemplateColumns:"210px auto"}}},(0,a.tZ)("div",null,Object.keys(Q).length>0?(0,a.tZ)("div",{css:{width:"100%",borderRadius:"0.25rem",padding:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",display:"flex",flexWrap:"wrap",marginBottom:"0.5rem","@media (min-width: 640px)":{display:"block"}},"data-testid":"collection-names"},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"Saved on"),Object.keys(Q).map((function(t){return(0,a.tZ)(z.rU,{to:"/collection/".concat((0,h.Jj)()[t]),key:"collection-".concat(t),"data-testid":"collection-".concat(t)},(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))",cursor:"pointer",":hover":{"--tw-text-opacity":"1",color:"rgba(251, 191, 36, var(--tw-text-opacity))"}}},(0,h.Jj)()[t]))}))):null,(0,a.tZ)("div",{css:{width:"100%",borderRadius:"0.25rem",padding:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",display:"flex",flexWrap:"wrap",marginBottom:"0.5rem","@media (min-width: 640px)":{display:"block"}}},(0,a.tZ)("div",{css:{marginBottom:"0.5rem",marginRight:"0.5rem"}},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"Format"),(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},null==et||null===(H=et.Media)||void 0===H?void 0:H.format)),(0,a.tZ)("div",{css:{marginBottom:"0.5rem",marginRight:"0.5rem"}},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"Volumes"),(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},(null==et||null===(W=et.Media)||void 0===W?void 0:W.volumes)||"-")),(0,a.tZ)("div",{css:{marginBottom:"0.5rem",marginRight:"0.5rem"}},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"Episode Duration"),(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},(null==et||null===(M=et.Media)||void 0===M?void 0:M.duration)||"-"," mins")),(0,a.tZ)("div",{css:{marginBottom:"0.5rem",marginRight:"0.5rem"}},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"Status"),(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},null==et||null===(k=et.Media)||void 0===k?void 0:k.status)),(0,a.tZ)("div",{css:{marginBottom:"0.5rem",marginRight:"0.5rem"}},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"Genres"),null==et||null===(C=et.Media)||void 0===C||null===(R=C.genres)||void 0===R?void 0:R.map((function(t,e){return(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"},key:"genre-".concat(e)},t)}))),(0,a.tZ)("div",{css:{marginBottom:"0.5rem",marginRight:"0.5rem"}},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"Mean Score"),(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},null==et||null===(j=et.Media)||void 0===j?void 0:j.meanScore)),(0,a.tZ)("div",{css:{marginBottom:"0.5rem",marginRight:"0.5rem"}},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"Romaji"),(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},(null==et||null===(B=et.Media)||void 0===B||null===(O=B.title)||void 0===O?void 0:O.romaji)||"-")),(0,a.tZ)("div",{css:{marginBottom:"0.5rem",marginRight:"0.5rem"}},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"English"),(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},(null==et||null===(A=et.Media)||void 0===A||null===(I=A.title)||void 0===I?void 0:I.english)||"-")),(0,a.tZ)("div",{css:{marginBottom:"0.5rem",marginRight:"0.5rem"}},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"Native"),(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},(null==et||null===(P=et.Media)||void 0===P||null===(L=P.title)||void 0===L?void 0:L.native)||"-")),(0,a.tZ)("div",{css:{marginBottom:"0.5rem",marginRight:"0.5rem"}},(0,a.tZ)("div",{css:{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))"}},"Studios"),null!=et&&null!==(T=et.Media)&&void 0!==T&&null!==(D=T.studios)&&void 0!==D&&D.edges&&et.Media.studios.edges.length>0?et.Media.studios.edges.map((function(t,e){var i;return(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"},key:"studio-".concat(e)},(null==t||null===(i=t.node)||void 0===i?void 0:i.name)||"-")})):(0,a.tZ)("div",{css:{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},"-")))),(0,a.tZ)("div",{css:{width:"100%"}},(0,a.tZ)("div",{css:{textAlign:"center",borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",padding:"0.5rem",marginBottom:"0.5rem"}},"Reviews"),null!=et&&null!==(V=et.Media)&&void 0!==V&&null!==(E=V.reviews)&&void 0!==E&&E.edges&&(null===(N=et.Media.reviews.edges)||void 0===N?void 0:N.length)>0?null===(_=et.Media.reviews.edges)||void 0===_?void 0:_.map((function(t,e){var i,o,n,r,l;return(0,a.tZ)("div",{css:{width:"100%",display:"flex",justifyContent:"space-between",borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",padding:"0.5rem",marginBottom:"0.5rem"},key:"review-".concat(e)},(0,a.tZ)("div",{css:{borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgba(156, 163, 175, var(--tw-bg-opacity))",width:"2rem",height:"2rem"}},(0,a.tZ)("img",{css:{borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgba(156, 163, 175, var(--tw-bg-opacity))",width:"2rem",height:"2rem"},src:(null==t||null===(i=t.node)||void 0===i||null===(o=i.user)||void 0===o||null===(n=o.avatar)||void 0===n?void 0:n.medium)||""})),(0,a.tZ)("div",{css:{marginTop:"auto",marginBottom:"auto",paddingLeft:"0.25rem",paddingRight:"0.25rem",fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},null==t||null===(r=t.node)||void 0===r?void 0:r.summary),(0,a.tZ)("div",{css:{marginTop:"auto",marginBottom:"auto",fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"400","--tw-text-opacity":"1",color:"rgba(156, 163, 175, var(--tw-text-opacity))"}},(0,a.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",css:{height:"1.25rem",width:"1.25rem"},viewBox:"0 0 20 20",fill:"currentColor"},(0,a.tZ)("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})),null==t||null===(l=t.node)||void 0===l?void 0:l.score))})):(0,a.tZ)("div",{css:{width:"100%",borderRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",textAlign:"center",padding:"0.5rem"}},"No Reviews.."))))}}}]);